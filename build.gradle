/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'Kelly-Ann' at '3/18/16 7:21 AM' with Gradle 2.11
 *
 * Remember that in Groovy you need to DOUBLE-QUOTES to have the expression EVALUATED at runtime.
 * Single-quotes only take the value within them LITERALLY.
 * User guide @ https://docs.gradle.org/2.11/userguide/tutorial_java_projects.html
 */
 
//apply props
apply from: 'gradle.properties'

// Apply the java plugin to add support for Java
apply plugin: 'java'
//apply plugin: 'ear'
 
// list the tasks to be run
defaultTasks 'clean', 'compileJava', 'test', 'deployToAppServer'
//defaultTasks 'printProps'  //used for debugging
 
// testing framework
test.useJUnit()

sourceCompatibility = 1.8
version = 'v1.0'

// rename the jar file
jar {
	archiveName = "$jarName"
	manifest {
		attributes 'Implementation-Title':'EmployeeMgmtServerApp', 'Implementation-Version':version
	}
}

// deploy to web server
task deployToAppServer(type: Copy, dependsOn: 'jar') { 
	description "Moves jar from build/lib to WildFly standalone/deployments folder."
	from jar
	into "$jbossDeployDir"
}
/*
task printProps { println "rootDir: $rootDir" println "jbossHomeDir: $jbossHomeDir" 
	println "jbossDeployDir: $jbossDeployDir" println "jarName: $jarName" 
	}
*/
// where to look for the dependencies of your project
repositories {
    mavenCentral()
}

dependencies {
    // used at compile time
    compile 'org.jboss.spec:jboss-javaee-7.0:1.0.3.Final'

    // used at testing compile time
    testCompile 'junit:junit:4.12'
}
